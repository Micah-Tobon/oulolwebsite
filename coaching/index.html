<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <title>Ohio University LOL</title>

  <!-- META -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="The official ULOL club for Ohio University. Join Today!">
  <meta name="author" content="Micah Tobon and Jacob Eicher">

  <!-- CSS -->
  <link href="https://fonts.googleapis.com/css?family=Overpass:400,700,900i" rel="stylesheet">
  <link rel="stylesheet" href="../public/css/style.css">
  <link rel="stylesheet" href="style.css">

  <script
    src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-serialize-object/2.5.0/jquery.serialize-object.min.js"></script>

  <!-- FAVICON -->
</head>

<body>
  <div class="navbar">
    <a href="../">
      <div class="navitem">Home</div>
    </a>
    <a href="../about">
      <div class="navitem">About</div>
    </a>
    <a href="../events">
      <div class="navitem">Events</div>
    </a>
    <a href="../coaching">
      <div class="navitem">Coaching</div>
    </a>
    <a href="../feedback">
      <div class="navitem">Feedback</div>
    </a>
    <a href="https://discord.gg/2wY6Qjs" target="_blank">
      <div class="navitem discord">Join the Discord</div>
    </a>
  </div>
  <div id="my-login-button-target"></div>
  <div id="hidden" class = "hidden"><text>You have successfully signed up for coaching. Thank you!</text></div>



<form id="test-form">


  <div class= "wrapper">


    <div class="Ebox c"> <p><input id="snapchat_name" name="snapchat_name" type="text" value=""/></p></div>
    <div class="box a"><label>Discord Name</label></div>
    <div class="box b"><input type="text" name="Discord_name" placeholder="Discord Name"/></div>

    <div class="Ebox c"></div>
    <div class="box d"><label>Role</label></div>
    <div class="box e"><input type="text" name="Role" placeholder="Role"/></div>

    <div class="Ebox f"></div>
    <div class="box f">Day</div>
    <div class="box f">Time</div>

    <div class="Ebox f"></div>
    <div class="box f"><input type="text" name="Day1" placeholder="Preferred Day"/></div>
    <div class="box f"><input type="text" name="Time1" placeholder="Preferred Time"/></div>

    <div class="Ebox f"></div>
    <div class="box f"><input type="text" name="Day2" placeholder="Alternate (if applicable)"/></div>
    <div class="box f"><input type="text" name="Time2" placeholder="Alternate (if applicable)"/></div>

    <div class="Ebox f"></div>
    <div class="box f"><input type="text" name="Day3" placeholder="Alternate (if applicable)"/></div>
    <div class="box f"><input type="text" name="Time3" placeholder="Alternate (if applicable)"/></div>

    <div class="Ebox f"></div>
    <div class="box f"><label>Rank</label></div>
    <div class="box f"><input type="text" name="Rank" placeholder="Rank"/></div>

    <div class="Ebox f"></div>
    <div class="box f"><label>Other Requests</label></div>
    <div class="box f"><textarea rows="3" cols="30" type="text" name="Other_requests" placeholder="Other requests"Test ></textarea></div>

    <div class="Ebox f"></div>
    <div class="midbox"><button type="submit"id="submit-form"onclick="unhide(this, 'about') " value="unhide">Submit</button></div>
    <div class="box f"></div>


  </div>


</form>

<script>
var $form = $('form#test-form'),
    url = 'https://script.google.com/macros/s/AKfycbwkHfuzXntDn4uIk7Vvyc4dVt7fvn-aMHosIXQFYB4liM4Mno87/exec'

$('#submit-form').on('click', function(e) {
  e.preventDefault();
  var jqxhr = $.ajax({
    url: url,
    method: "GET",
    dataType: "json",
    data: $form.serializeObject(),
    success: function (data) {
      console.log(data)
    }
  })
})
</script>
<div class="landing">

  </div>
</body>
<script>
function unhide(clickedButton, divID) {
var item = document.getElementById("test-form");
var item2 = document.getElementById("hidden");
if (item) {
    if(item.children[0].className=="wrapper2"){
        item.children[0].className = "wrapper" ;
        clickedButton.value = 'done'
        if(item2.className == 'hidden'){
          item2.className = 'unhidden'
        }
    }else{
        item.children[0].className = "wrapper2";
        clickedButton.value = 'done'
    }
}}
window.snapKitInit = function () {
 var loginButtonIconId = 'my-login-button-target';
 // Mount Login Button
 snap.loginkit.mountButton(loginButtonIconId, {
   clientId: '93177862-348c-4cef-8031-4d405555e053',
   redirectURI: 'https://www.ohioulol.com',
   scopeList: [
     'user.display_name',
   ],
   handleResponseCallback: function() {
     snap.loginkit.fetchUserInfo()
       .then(data => {
         username=data.data.me.displayName;
         console.log(username);
         var item = document.getElementById("test-form");
         if(username){
           item.children[0].className = "wrapper2" ;
         }else{
           item.className = "wrapper";
         }
         window.global_name = username;
         document.getElementById("snapchat_name").value = username;
         });
   },
 });
};

// Load the SDK asynchronously
(function (d, s, id) {
 var js, sjs = d.getElementsByTagName(s)[0];
 if (d.getElementById(id)) return;
 js = d.createElement(s); js.id = id;
 js.src = "https://sdk.snapkit.com/js/v1/login.js";
 sjs.parentNode.insertBefore(js, sjs);
}(document, 'script', 'loginkit-sdk'));
</script>

</html>
